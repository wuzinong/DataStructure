<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>链表</title>
</head>
 
<body>

     <script type="text/javascript">
         function Node(element){
             this.element = element;
             this.next = null;
             this.previous = null;
         }
         function LList(){
             this.head = new Node("head");
             this.find = find;
             this.insert = insert;
             this.remove = remove;
             this.display = display;
             this.findPrevious = findPrevious;
             this.dispReverse = dispReverse;
             this.findLast = findLast;
         }
         function find(item){
             var currNode = this.head;
             while(currNode.element != item){
                 currNode = currNode.next;
             }
             return currNode;
         }
         //单向链表insert
         function insert(newElement,item){
             var newNode = new Node(newElement);
             var current = this.find(item);
             newNode.next = current.next;
             current.next = newNode;
         }
         //双向链表insert
         function insert2(newElement,item){
             var newNode = new Node(newElement);
             var current = this.find(item);
             newNode.next = current.next;
             newNode.previous = current;
             current.next = newNode;
         }
         function display(){
             var currNode = this.head;
             while(!(currNode.next == null)){
                console.log(currNode.next.element);
                currNode = currNode.next;
             }
         }
         function findPrevious(item){
            var currNode = this.head;
            while(!(currNode==null) && (currNode.next.element != item)){
                  currNode = currNode.next;
            }
            return currNode;
         }
         //单向链表remove
         function remove(item){
            var prevNode = this.findPrevious(item);
            if(!(prevNode.next == null)){
                 prevNode.next = prevNode.next.next;
            }
         }
         //双向链表remove
         function remove2(item){
            var currNode = this.find(item);
            if(!(currNode.next == null)){
                currNode.previous.next = current.next;
                currNode.next.previous = currNode.previous;
                currNode.next = null;
                currNode.previous = null;
            }
         }
         function findLast(){
             var currNode = this.head;
             while(!(currNode.next ==null)){
                 currNode = currNode.next;
             }
             return currNode;
         }
         function dispReverse(){
             var currNode = this.head;
             currNode = this.findLast;
             while(!(currNode.previous==null)){
                 console.log(currNode.element);
                 currNode = currNode.previous;
             }
         }
          var cities = new LList();
          cities.insert("Conway", "head");
          cities.insert("Russellville", "Conway");
          cities.insert("Carlisle", "Russellville");
          cities.insert("Alma", "Carlisle");
          cities.display();
          cities.remove("Carlisle");
          cities.display();
     </script>
</body>
</html>